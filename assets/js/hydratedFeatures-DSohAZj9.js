import{ay as Z,f as z,az as R,aA as g,aB as b,d as v,L as c}from"./test-DMnSxVQs.js";function W(t){return"declaredClass"in t}function f(t){return"declaredClass"in t}function C(t){return"declaredClass"in t}function N(t,n){return t?C(t)?t:new v({layer:n,sourceLayer:n,visible:t.visible,symbol:c(t.symbol),attributes:c(t.attributes),geometry:A(t.geometry)}):null}function A(t){return t==null?null:W(t)?t:R(L(t))}function L(t){const{wkid:n,wkt:a,wkt2:l,latestWkid:u}=t.spatialReference,i={wkid:n,wkt:a,wkt2:l,latestWkid:u};switch(t.type){case"point":{const{x:s,y:r,z:e,m:o}=t;return{x:s,y:r,z:e,m:o,spatialReference:i}}case"polygon":{const{rings:s,hasZ:r,hasM:e}=t;return{rings:m(s),hasZ:r,hasM:e,spatialReference:i}}case"polyline":{const{paths:s,hasZ:r,hasM:e}=t;return{paths:m(s),hasZ:r,hasM:e,spatialReference:i}}case"extent":{const{xmin:s,xmax:r,ymin:e,ymax:o,zmin:y,zmax:d,mmin:x,mmax:k,hasZ:w,hasM:M}=t;return{xmin:s,xmax:r,ymin:e,ymax:o,zmin:y,zmax:d,mmin:x,mmax:k,hasZ:w,hasM:M,spatialReference:i}}case"multipoint":{const{points:s,hasZ:r,hasM:e}=t;return{points:p(s)?h(s):s,hasZ:r,hasM:e,spatialReference:i}}default:return}}function m(t){return B(t)?t.map((n=>h(n))):t}function h(t){return t.map((n=>Array.from(n)))}function B(t){for(const n of t)if(n.length!==0)return p(n);return!1}function p(t){return t.length>0&&(g(t[0])||b(t[0]))}function O(t,n){if(!t)return null;let a;if(f(t)){if(n==null)return t.clone();if(f(n))return n.copy(t)}return n!=null?(a=n,a.x=t.x,a.y=t.y,a.spatialReference=t.spatialReference,t.hasZ?(a.z=t.z,a.hasZ=t.hasZ):(a.z=void 0,a.hasZ=!1),t.hasM?(a.m=t.m,a.hasM=!0):(a.m=void 0,a.hasM=!1)):(a=Z(t.x,t.y,t.z,t.spatialReference),t.hasM&&(a.m=t.m,a.hasM=!0)),a}function S(t){const{wkid:n,wkt:a,wkt2:l,latestWkid:u}=t,i={wkid:n,wkt:a,wkt2:l,latestWkid:u};return z.fromJSON(i)}export{N as c,S as k,W as o,A as u,O as x};
