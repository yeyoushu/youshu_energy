import{_ as S,u as A}from"./index-CulM0VMq.js";import{u as H}from"./tabs-OsV5l5l4.js";import{j as V,e as t,f as m,v as X,o as s,w as n,c as v,F as C,n as D,g as e,l as f,X as T,t as R,Y,u as k,x as j,r as Z,h as U,L as O,V as z,k as F,Z as G}from"./vendor-CHjNVy30.js";import{l as J}from"./logo-nDJS6iMc.js";const P=V({name:"MyMenu",props:{item:{type:Object,required:!0}},setup(){const o=H(),{addTab:u,setCurrentTab:_}=o;return{add:(l,c,a)=>{u(l,c,a),_(l,c)}}}});function Q(o,u,_,p,l,c){const a=t("el-icon"),d=t("my-menu"),h=t("el-sub-menu"),w=t("el-menu-item");return o.item.children?(s(),m(h,{key:0,index:o.item.url},{title:n(()=>[e(a,null,{default:n(()=>[(s(),m(T(o.item.icon)))]),_:1}),f("span",null,R(o.item.name),1)]),default:n(()=>[(s(!0),v(C,null,D(o.item.children,b=>(s(),m(d,{key:b.url,item:b},null,8,["item"]))),128))]),_:1},8,["index"])):X((s(),m(w,{key:1,index:o.item.url,onClick:u[0]||(u[0]=b=>o.add(o.item.name,o.item.url,o.item.icon))},{default:n(()=>[e(a,null,{default:n(()=>[(s(),m(T(o.item.icon)))]),_:1}),f("span",null,R(o.item.name),1)]),_:1},8,["index"])),[[Y,o.item.name!="订单详情"]])}const W=S(P,[["render",Q],["__scopeId","data-v-c03dab81"]]),x={class:"logo"},ee=["src"],ne=V({__name:"menu",setup(o){const _=A().menu;return(p,l)=>{const c=t("el-menu");return s(),v(C,null,[f("div",x,[f("img",{src:k(J),width:"34px",height:"34px"},null,8,ee),l[0]||(l[0]=f("h1",null,"动力能源",-1))]),e(c,{router:!0,"default-active":p.$route.path},{default:n(()=>[(s(!0),v(C,null,D(k(_),a=>(s(),m(W,{item:a,key:a.url},null,8,["item"]))),128))]),_:1},8,["default-active"])],64)}}}),te=S(ne,[["__scopeId","data-v-064c7d52"]]),oe={class:"header"},ae={class:"personal"},se={class:"el-dropdown-link"},le=V({__name:"TopHeader",setup(o){const u=O(),_=A(),{userName:p}=j(_),l=Z(5),c=a=>{a=="user"?u.push("/personal"):(_.logout(),u.push("/login"))};return(a,d)=>{const h=t("Bell"),w=t("el-icon"),b=t("el-badge"),B=t("el-avatar"),I=t("arrow-down"),$=t("el-dropdown-item"),N=t("el-dropdown-menu"),M=t("el-dropdown");return s(),v("div",oe,[f("div",ae,[e(b,{"is-dot":l.value>0,class:"item"},{default:n(()=>[e(w,null,{default:n(()=>[e(h)]),_:1})]),_:1},8,["is-dot"]),e(B,{src:"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png",class:"ml mr"}),e(M,{onCommand:c},{dropdown:n(()=>[e(N,null,{default:n(()=>[e($,{icon:"User",command:"user"},{default:n(()=>[...d[0]||(d[0]=[U("个人中心",-1)])]),_:1}),e($,{icon:"SwitchButton",command:"logout"},{default:n(()=>[...d[1]||(d[1]=[U("退出登录",-1)])]),_:1})]),_:1})]),default:n(()=>[f("span",se,[U(" 欢迎你，"+R(k(p))+" ",1),e(w,{class:"el-icon--right"},{default:n(()=>[e(I)]),_:1})])]),_:1})])])}}}),ue=S(le,[["__scopeId","data-v-3d5b6cb9"]]),re={class:"custom-tabs-label"},ce=V({__name:"TabsLayout",setup(o){const u=H(),_=A(),{menu:p}=j(_),l=O(),c=z(),{tabs:a,currentTab:d}=j(u),{setCurrentTab:h,addTab:w,removeTab:b}=u;function B(r,g){for(const y of r){if(y.url===g)return y;if(y.children){const L=B(y.children,g);if(L)return L}}return null}const{name:I,url:$,icon:N}=B(p.value,c.path);w(I,$,N),h(I,$);const M=({index:r})=>{l.push(a.value[r].url),h(a.value[r].name,a.value[r].url)},q=r=>{b(r),l.push(d.value.url)};return(r,g)=>{const y=t("el-icon"),L=t("el-tab-pane"),E=t("el-tabs"),K=t("RouterView");return s(),v(C,null,[e(E,{modelValue:k(d).name,"onUpdate:modelValue":g[0]||(g[0]=i=>k(d).name=i),class:"demo-tabs",onTabClick:M,type:"card",closable:"",onTabRemove:q},{default:n(()=>[(s(!0),v(C,null,D(k(a),i=>(s(),m(L,{key:i.name,label:i.name,name:i.name},{label:n(()=>[f("span",re,[e(y,null,{default:n(()=>[(s(),m(T(i.icon)))]),_:2},1024),f("span",null," "+R(i.name),1)])]),_:2},1032,["label","name"]))),128))]),_:1},8,["modelValue"]),e(K,null,{default:n(({Component:i})=>[(s(),m(G,null,[r.$route.meta.keepAlive?(s(),m(T(i),{key:r.$route.name})):F("",!0)],1024)),r.$route.meta.keepAlive?F("",!0):(s(),m(T(i),{key:r.$route.name}))]),_:1})],64)}}}),me=S(ce,[["__scopeId","data-v-00e7f635"]]),_e=V({__name:"defaultLayout",setup(o){return(u,_)=>{const p=t("el-aside"),l=t("el-header"),c=t("el-main"),a=t("el-container");return s(),v("div",null,[e(a,null,{default:n(()=>[e(p,{width:"200px"},{default:n(()=>[e(te)]),_:1}),e(a,null,{default:n(()=>[e(l,null,{default:n(()=>[e(ue)]),_:1}),e(c,null,{default:n(()=>[e(me)]),_:1})]),_:1})]),_:1})])}}}),be=S(_e,[["__scopeId","data-v-8f1ae2bb"]]);export{be as default};
