import{_ as S,u as D}from"./index-CWtyz5ej.js";import{u as F}from"./tabs-COwWEXbQ.js";import{k as B,r as t,c as m,w as E,o as s,l as n,m as v,F as C,n as j,p as e,q as f,s as g,t as L,v as G,u as k,x as U,y as J,z as M,A as H,B as P,C as q,K as Q}from"./vendor-BrY8b94Q.js";import{l as W}from"./logo-nDJS6iMc.js";const X=B({name:"MyMenu",props:{item:{type:Object,required:!0}},setup(){const o=F(),{addTab:u,setCurrentTab:_}=o;return{add:(l,c,a)=>{u(l,c,a),_(l,c)}}}});function Y(o,u,_,p,l,c){const a=t("el-icon"),d=t("my-menu"),h=t("el-sub-menu"),w=t("el-menu-item");return o.item.children?(s(),m(h,{key:0,index:o.item.url},{title:n(()=>[e(a,null,{default:n(()=>[(s(),m(g(o.item.icon)))]),_:1}),f("span",null,L(o.item.name),1)]),default:n(()=>[(s(!0),v(C,null,j(o.item.children,b=>(s(),m(d,{key:b.url,item:b},null,8,["item"]))),128))]),_:1},8,["index"])):E((s(),m(w,{key:1,index:o.item.url,onClick:u[0]||(u[0]=b=>o.add(o.item.name,o.item.url,o.item.icon))},{default:n(()=>[e(a,null,{default:n(()=>[(s(),m(g(o.item.icon)))]),_:1}),f("span",null,L(o.item.name),1)]),_:1},8,["index"])),[[G,o.item.name!="订单详情"]])}const Z=S(X,[["render",Y],["__scopeId","data-v-c03dab81"]]),x={class:"logo"},ee=["src"],ne=B({__name:"menu",setup(o){const _=D().menu;return(p,l)=>{const c=t("el-menu");return s(),v(C,null,[f("div",x,[f("img",{src:k(W),width:"34px",height:"34px"},null,8,ee),l[0]||(l[0]=f("h1",null,"动力能源",-1))]),e(c,{router:!0,"default-active":p.$route.path},{default:n(()=>[(s(!0),v(C,null,j(k(_),a=>(s(),m(Z,{item:a,key:a.url},null,8,["item"]))),128))]),_:1},8,["default-active"])],64)}}}),te=S(ne,[["__scopeId","data-v-064c7d52"]]),oe={class:"header"},ae={class:"personal"},se={class:"el-dropdown-link"},le=B({__name:"TopHeader",setup(o){const u=H(),_=D(),{userName:p}=U(_),l=J(5),c=a=>{a=="user"?u.push("/personal"):(_.logout(),u.push("/login"))};return(a,d)=>{const h=t("Bell"),w=t("el-icon"),b=t("el-badge"),V=t("el-avatar"),I=t("arrow-down"),$=t("el-dropdown-item"),N=t("el-dropdown-menu"),A=t("el-dropdown");return s(),v("div",oe,[f("div",ae,[e(b,{"is-dot":l.value>0,class:"item"},{default:n(()=>[e(w,null,{default:n(()=>[e(h)]),_:1})]),_:1},8,["is-dot"]),e(V,{src:"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png",class:"ml mr"}),e(A,{onCommand:c},{dropdown:n(()=>[e(N,null,{default:n(()=>[e($,{icon:"User",command:"user"},{default:n(()=>[...d[0]||(d[0]=[M("个人中心",-1)])]),_:1}),e($,{icon:"SwitchButton",command:"logout"},{default:n(()=>[...d[1]||(d[1]=[M("退出登录",-1)])]),_:1})]),_:1})]),default:n(()=>[f("span",se,[M(" 欢迎你，"+L(k(p))+" ",1),e(w,{class:"el-icon--right"},{default:n(()=>[e(I)]),_:1})])]),_:1})])])}}}),ue=S(le,[["__scopeId","data-v-3d5b6cb9"]]),re={class:"custom-tabs-label"},ce=B({__name:"TabsLayout",setup(o){const u=F(),_=D(),{menu:p}=U(_),l=H(),c=P(),{tabs:a,currentTab:d}=U(u),{setCurrentTab:h,addTab:w,removeTab:b}=u;function V(r,T){for(const y of r){if(y.url===T)return y;if(y.children){const R=V(y.children,T);if(R)return R}}return null}const{name:I,url:$,icon:N}=V(p.value,c.path);w(I,$,N),h(I,$);const A=({index:r})=>{l.push(a.value[r].url),h(a.value[r].name,a.value[r].url)},K=r=>{b(r),l.push(d.value.url)};return(r,T)=>{const y=t("el-icon"),R=t("el-tab-pane"),O=t("el-tabs"),z=t("RouterView");return s(),v(C,null,[e(O,{modelValue:k(d).name,"onUpdate:modelValue":T[0]||(T[0]=i=>k(d).name=i),class:"demo-tabs",onTabClick:A,type:"card",closable:"",onTabRemove:K},{default:n(()=>[(s(!0),v(C,null,j(k(a),i=>(s(),m(R,{key:i.name,label:i.name,name:i.name},{label:n(()=>[f("span",re,[e(y,null,{default:n(()=>[(s(),m(g(i.icon)))]),_:2},1024),f("span",null," "+L(i.name),1)])]),_:2},1032,["label","name"]))),128))]),_:1},8,["modelValue"]),e(z,null,{default:n(({Component:i})=>[(s(),m(Q,null,[r.$route.meta.keepAlive?(s(),m(g(i),{key:r.$route.name})):q("",!0)],1024)),r.$route.meta.keepAlive?q("",!0):(s(),m(g(i),{key:r.$route.name}))]),_:1})],64)}}}),me=S(ce,[["__scopeId","data-v-e1ecbf67"]]),_e=B({__name:"defaultLayout",setup(o){return(u,_)=>{const p=t("el-aside"),l=t("el-header"),c=t("el-main"),a=t("el-container");return s(),v("div",null,[e(a,null,{default:n(()=>[e(p,{width:"200px"},{default:n(()=>[e(te)]),_:1}),e(a,null,{default:n(()=>[e(l,null,{default:n(()=>[e(ue)]),_:1}),e(c,null,{default:n(()=>[e(me)]),_:1})]),_:1})]),_:1})])}}}),be=S(_e,[["__scopeId","data-v-8f1ae2bb"]]);export{be as default};
