import{eb as m,bw as g,d as c,aw as n,dA as l,g as a,e1 as d,v as h,w,x as u}from"./test-Dp3_P59c.js";import{S as y}from"./LayerView2D-DxXX3c7V.js";import{t as V}from"./GraphicContainer-CXzxhMhy.js";import{O as v}from"./GraphicsView2D-Bfj7vavS.js";import{u as f}from"./LayerView-Bprwomg0.js";import"./index-CulM0VMq.js";import"./vendor-CHjNVy30.js";import"./station-CTe-uNfl.js";import"./Container-nTJJr0sk.js";import"./layerViewUtils-Czal1042.js";import"./AGraphicContainer-DaNs0X-n.js";import"./TechniqueInstance-CNUlgOWf.js";import"./UpdateTracking2D-B0TUFUJJ.js";import"./Utils-Bm80xURG.js";import"./BoundingBox--wDAJExW.js";import"./VertexElementDescriptor-BLyltQyJ.js";import"./FramebufferObject-BDE4CJ-7.js";import"./VertexArrayObject-mBBhA4PL.js";import"./memoryEstimations-T_QTZf5l.js";import"./TileContainer-CL9Z8Eti.js";import"./WGLContainer-VMVtADP5.js";import"./ProgramTemplate-PTbonQFa.js";import"./vec3f32-WCVSSNPR.js";import"./StyleDefinition-Bk9QDbvE.js";import"./enums-DCdj6Lab.js";import"./config-DHajyIwB.js";import"./featureConversionUtils-BISEwGRc.js";import"./OptimizedFeature-99IiHQtf.js";import"./OptimizedFeatureSet-BR8EEvDc.js";import"./FeatureCommandQueue-C-iLIVn4.js";import"./CIMSymbolHelper-BmV9wdNT.js";import"./BidiEngine-QXap_35O.js";import"./GeometryUtils-DnbNKBN0.js";import"./utils-Bn4MiHWW.js";import"./defaultCIMValues-eS1WuCTt.js";import"./rasterizingUtils-CmuecSwa.js";import"./floatRGBA-OxTzrX3-.js";import"./Rect-CUzevAry.js";import"./defaults-B2ew532g.js";import"./defaultsJSON-GKolV7NZ.js";import"./TechniqueType-pk2C5RYg.js";import"./GraphShaderModule-BSI09JqU.js";import"./ShaderBuilder-C59RPvP-.js";import"./BindType-BBwFZqyN.js";import"./utils-B9giqtuX.js";import"./constants-BFLErLYb.js";import"./streamLayerUtils-CKwt2uXH.js";import"./QueueProcessor-CzCwOPyO.js";import"./FieldsIndex-dVB9L1ZQ.js";import"./UnknownTimeZone-CD5-cTzw.js";import"./OverrideHelper-h6_hlOyA.js";import"./colorUtils-PLuV6xy5.js";import"./ArcadeExpression-Dcbbajtk.js";import"./TimeOnly-CSJYFsnz.js";import"./enum-DYiiI-Eb.js";import"./callExpressionWithFeature-BBTZWXlT.js";import"./quantizationUtils-Cx-L7xZw.js";import"./AttributeStore-K9IjWIhg.js";import"./labelUtils-BD42FNJJ.js";import"./diffUtils-CRH5h29A.js";import"./queryUtils-BylZ_vR4.js";import"./json-Wa8cmqdu.js";import"./timeSupport-CBFS3Cpf.js";import"./normalizeUtilsSync-mto6qb7I.js";import"./dehydratedFeatures-BURCs02O.js";let p=class extends y(f){attach(){this.graphicsView=new v({requestUpdateCallback:()=>this.requestUpdate(),view:this.view,graphics:this.layer.graphics,container:new V(this.view.featuresTilingScheme),layerId:this.layer.id}),this.container.addChild(this.graphicsView.container),this.addAttachHandles([this.layer.on("graphic-update",this.graphicsView.graphicUpdateHandler),m((()=>this.layer?.visible),(()=>{this.graphicsView.update({state:this.view.state}),this.graphicsView.pushUpdate()}))]),this._processHighlight()}detach(){this.container.removeAllChildren(),this.graphicsView=g(this.graphicsView)}async hitTest(i){return this.graphicsView?this.graphicsView.hitTest(i).map((e=>({type:"graphic",graphic:e,mapPoint:i,layer:this.layer}))):null}queryGraphics(){return Promise.resolve(this.graphicsView.graphics)}update(i){this.graphicsView.processUpdate(i)}viewChange(){this.graphicsView.viewChange()}moveEnd(){}isUpdating(){return!this.graphicsView||this.graphicsView.updating}highlight(i,e){let t;typeof i=="number"?t=[i]:i instanceof c?t=[i.uid]:Array.isArray(i)&&i.length>0?t=typeof i[0]=="number"?i:i.map((r=>r&&r.uid)):n.isCollection(i)&&i.length>0&&(t=i.map((r=>r&&r.uid)).toArray());const s=t?.filter(l);if(!s?.length)return a();const o=e?.name??d;return this._addHighlights(s,o),a((()=>!this.destroyed&&this._removeHighlights(s,o)))}_processHighlight(){const i=this._getHighlights();this.graphicsView?.setHighlight(i)}};h([w()],p.prototype,"graphicsView",void 0),p=h([u("esri.views.2d.layers.GraphicsLayerView2D")],p);const Li=p;export{Li as default};
