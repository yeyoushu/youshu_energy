const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/lyr3DWorker-DaP1WdXO.js","assets/js/test-DMnSxVQs.js","assets/js/index-BJQUWR-1.js","assets/js/vendor-CHjNVy30.js","assets/css/index-xCubpQZP.css","assets/js/station-DfQHTTxy.js","assets/css/test-D2ol9zJk.css"])))=>i.map(i=>d[i]);
import{hR as f,iC as u}from"./test-DMnSxVQs.js";import{a as m}from"./index-BJQUWR-1.js";import"./vendor-CHjNVy30.js";import"./station-DfQHTTxy.js";function d(){return new Promise((s=>m(()=>import("./lyr3DWorker-DaP1WdXO.js"),__vite__mapDeps([0,1,2,3,4,5,6])).then((t=>t.l)).then((({default:t})=>{const i=t({locateFile:h,onRuntimeInitialized:()=>s(i)})})))).catch((s=>{throw s}))}function h(s){return f(`esri/libs/lyr3d/${s}`)}let o,n;async function I(s){await _();const t={status:u.Failed,error:"",jobDescJson:"",data:new Uint8Array(0),missingInputUrls:[]};if(s.inputs.length<1)return{result:t,transferList:[]};const i={ptrs:[],sizes:[]};for(const e of s.inputs){const p=n._malloc(e.byteLength);new Uint8Array(n.HEAPU8.buffer,p,e.byteLength).set(new Uint8Array(e)),i.ptrs.push(p),i.sizes.push(e.byteLength)}const r=n.process(s.jobDescJson,s.id,i,s.isMissingResourceCase);t.status=r.status,t.missingInputUrls=r.missingInputUrls.slice();const l=r.status===u.Succeeded&&r.data,c=t.status===u.MissingInputs&&t.missingInputUrls.length>0;t.jobDescJson=r.jobDescJson.slice(),t.error=r.error.slice(),l?t.data=r.data.slice():c&&(t.originalInputs=s.inputs.slice());for(let e=0;e<i.ptrs.length;++e)n._free(i.ptrs[e]);const a=[];if(l)a.push(t.data.buffer);else if(c)for(const e of s.inputs)a.push(e);return{result:t,transferList:a}}function U(){n&&(n.uninitialize_lyr3d_worker_wasm(),n=null)}function _(){return n?Promise.resolve():(o||(o=d().then((s=>{n=s,n.initialize_lyr3d_worker_wasm(),o=null}))),o)}export{U as destroyWasm,_ as initialize,I as process};
