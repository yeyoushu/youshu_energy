import{d as D,r as i,j as N,q as E,x as F,y as T,e as r,f as j,o as A,w as o,g as e,l as M,h as q,E as z}from"./vendor-CHjNVy30.js";import{e as G}from"./chargingstation-CH2yEi0H.js";const H=D("station",()=>{const n=i({name:"",id:"",city:"",fast:"",slow:"",status:1,now:"",fault:"",person:"",tel:"",title:""});return{rowData:n,setRowData:f=>{n.value=f}}}),I={class:"dialog-footer"},L=N({__name:"StationForm",props:{dialogVisible:{type:Boolean,required:!0}},emits:["close","reload"],setup(n,{emit:b}){const f=n,g=b,a=i({name:"",id:"",city:"",fast:"",slow:"",status:1,now:"",fault:"",person:"",tel:"",title:""}),U=E({name:[{required:!0,message:"站点名称不能为空",trigger:"blur"}],id:[{required:!0,message:"站点id不能为空",trigger:"blur"}],city:[{required:!0,message:"所属城市不能为空",trigger:"blur"}],person:[{required:!0,message:"站点负责人不能为空",trigger:"blur"}],tel:[{required:!0,message:"负责人电话不能为空",trigger:"blur"}],fast:[{required:!0,message:"快充数不能为空",trigger:"blur"}],slow:[{required:!0,message:"慢充数不能为空",trigger:"blur"}],status:[{required:!0,message:"充电站状态不能为空",trigger:"blur"}],now:[{required:!0,message:"正在充电数不能为空",trigger:"blur"}],fault:[{required:!0,message:"故障数量不能为空",trigger:"blur"}]}),C=H(),{rowData:V}=F(C),m=i("");T(()=>f.dialogVisible,()=>{V.value.name?(m.value="编辑充电站信息",d.value=!0):(m.value="新增充电站信息",d.value=!1),a.value=V.value});const d=i(!1),v=()=>{g("close")},_=i(),k=()=>{_.value?.validate(async w=>{if(w){a.value.title=m.value;const l=await G(a.value);l.code==200&&(z({message:l.data,type:"success"}),v(),g("reload"))}})};return(w,l)=>{const s=r("el-input"),u=r("el-form-item"),c=r("el-col"),p=r("el-option"),x=r("el-select"),R=r("el-row"),S=r("el-form"),y=r("el-button"),B=r("el-dialog");return A(),j(B,{"model-value":n.dialogVisible,title:m.value,onClose:v,"destroy-on-close":""},{footer:o(()=>[M("div",I,[e(y,{onClick:v},{default:o(()=>[...l[10]||(l[10]=[q("取消",-1)])]),_:1}),e(y,{type:"primary",onClick:k},{default:o(()=>[...l[11]||(l[11]=[q(" 确认 ",-1)])]),_:1})])]),default:o(()=>[e(S,{"label-width":"120",rules:U,model:a.value,ref_key:"formRef",ref:_},{default:o(()=>[e(R,null,{default:o(()=>[e(c,{span:12},{default:o(()=>[e(u,{label:"站点名称:",prop:"name"},{default:o(()=>[e(s,{modelValue:a.value.name,"onUpdate:modelValue":l[0]||(l[0]=t=>a.value.name=t)},null,8,["modelValue"])]),_:1}),e(u,{label:"站点id:",prop:"id"},{default:o(()=>[e(s,{modelValue:a.value.id,"onUpdate:modelValue":l[1]||(l[1]=t=>a.value.id=t),disabled:d.value},null,8,["modelValue","disabled"])]),_:1}),e(u,{label:"所属城市：",prop:"city"},{default:o(()=>[e(s,{modelValue:a.value.city,"onUpdate:modelValue":l[2]||(l[2]=t=>a.value.city=t)},null,8,["modelValue"])]),_:1}),e(u,{label:"站点负责人：",prop:"person"},{default:o(()=>[e(s,{modelValue:a.value.person,"onUpdate:modelValue":l[3]||(l[3]=t=>a.value.person=t)},null,8,["modelValue"])]),_:1}),e(u,{label:"负责人电话：",prop:"tel"},{default:o(()=>[e(s,{modelValue:a.value.tel,"onUpdate:modelValue":l[4]||(l[4]=t=>a.value.tel=t)},null,8,["modelValue"])]),_:1})]),_:1}),e(c,{span:12},{default:o(()=>[e(u,{label:"快充数：",prop:"fast"},{default:o(()=>[e(s,{modelValue:a.value.fast,"onUpdate:modelValue":l[5]||(l[5]=t=>a.value.fast=t)},null,8,["modelValue"])]),_:1}),e(u,{label:"慢充数：",prop:"slow"},{default:o(()=>[e(s,{modelValue:a.value.slow,"onUpdate:modelValue":l[6]||(l[6]=t=>a.value.slow=t)},null,8,["modelValue"])]),_:1}),e(u,{label:"充电站状态：",prop:"status"},{default:o(()=>[e(x,{placeholder:"充电站状态",modelValue:a.value.status,"onUpdate:modelValue":l[7]||(l[7]=t=>a.value.status=t),disabled:d.value},{default:o(()=>[e(p,{label:"使用中",value:2}),e(p,{label:"空闲中",value:3}),e(p,{label:"维护中",value:4}),e(p,{label:"待维修",value:5})]),_:1},8,["modelValue","disabled"])]),_:1}),e(u,{label:"正在充电：",prop:"now"},{default:o(()=>[e(s,{modelValue:a.value.now,"onUpdate:modelValue":l[8]||(l[8]=t=>a.value.now=t),disabled:d.value},null,8,["modelValue","disabled"])]),_:1}),e(u,{label:"故障数：",prop:"fault"},{default:o(()=>[e(s,{modelValue:a.value.fault,"onUpdate:modelValue":l[9]||(l[9]=t=>a.value.fault=t),disabled:d.value},null,8,["modelValue","disabled"])]),_:1})]),_:1})]),_:1})]),_:1},8,["rules","model"])]),_:1},8,["model-value","title"])}}});export{L as _,H as u};
